
20200317

# 第四章 变量、作用域

## 执行环境和作用域

#### 执行环境：

全局环境

局部环境

局部环境可以访问全局变量，反之不行

#### 作用域链：

从局部到全局

### ++延长作用域链++

try catch

with

### 没有块级作用域
js语句没有块级作用域

if for语句定义的局部变量在作用域外也能获取

## 垃圾回收

### 标记清零

进入环境 退出环境

js引擎使用的是标记清零的办法

### 引用计数

对引用次数计数，引用一次+1，变量引用别的值-1

问题：

循环引用

IE9之前BOM和DOM都是以COM的形式传递给js，COM采用的是引用计数的方法，因此会造成循环引用的问题

解决：

手动解绑 dereferencing

variable = null


### 性能和内存

js自动进行垃圾回收

考虑到有限的内存，尽量不要留太多垃圾变量

# 第五章

## 对象

### 定义

var obj = new Object();

对象字面量：var obj = {
    age: 22;
};

### 访问属性

点 .

方括号 [""]

一般用点操作符